(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{79:function(e,t){},80:function(e,t){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var r=n(15),a=n(25),c=n(3),o=n(4),s=n(7),i=n(9),l=n(8),u=n(2),h=n.n(u),d=n(45),b=n.n(d),p=n(16),m=n.n(p),f=n(26),j=n(21),O=n(46);function g(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=Object(f.a)(m.a.mark((function e(t,n,r,a){var c,o,s,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("User_EOS_key"),o=new j.JsonRpc("http://34.121.200.21:8888"),s=new O.JsSignatureProvider([c]),i=new j.Api({rpc:o,signatureProvider:s,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),e.prev=4,e.next=7,i.transact({actions:[{account:t,name:n,authorization:[{actor:localStorage.getItem("User_EOS_account"),permission:"active"}],data:r}]},{blocksBehind:3,expireSeconds:30});case 7:return l=e.sent,console.dir(l),"transfer"==n&&a(l.processed.action_traces[0].inline_traces[1].console.concat("\n waiting for open ")),"open"==n&&a(l.processed.action_traces[0].console),e.abrupt("return",l);case 14:throw e.prev=14,e.t0=e.catch(4),console.dir(e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,14]])})))).apply(this,arguments)}function _(){return(_=Object(f.a)(m.a.mark((function e(t,n,r,a,c,o){var s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new j.JsonRpc("http://34.121.200.21:8888"),e.prev=1,e.next=4,s.get_table_rows({json:!0,code:t,scope:n,table:r,lower_bound:a,index_position:c,key_type:o,reverse:!1,show_payer:!1});case 4:return i=e.sent,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(1),console.dir(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var y=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,null,[{key:"bet",value:function(e){return new Promise((function(t,n){if(!localStorage.getItem("User_EOS_account"))return n();g("eosio.token","transfer",{from:localStorage.getItem("User_EOS_account"),to:"lottery",quantity:"1.0000 TNT",memo:"bet:".concat(localStorage.getItem("User_EOS_numbers"))},e).then((function(){t()})).catch((function(e){n(e)}))}))}},{key:"open",value:function(e,t){return new Promise((function(n,r){if(!localStorage.getItem("User_EOS_account"))return r();g("lottery","redeem",{user:localStorage.getItem("User_EOS_account"),serialID:t},e).then((function(){n()})).catch((function(e){r(e)}))}))}},{key:"get_ticket_table",value:function(){return new Promise((function(e,t){if(!localStorage.getItem("User_EOS_account"))return t();(function(e,t,n,r,a,c){return _.apply(this,arguments)})("lottery","lottery","ticket",localStorage.getItem("User_EOS_account"),2,"i64").then((function(t){e(t)})).catch((function(e){t(e)}))}))}}]),e}(),k=n(0),x=function(e){var t=Object.assign({},e),n=t.className,r=t.type,a=t.style,c=t.onClick,o=t.children;return Object(k.jsx)("button",{className:"Button".concat(n?" "+n:""),type:r,style:a,onClick:c,children:o})},S=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(s.a)(r)),r}return Object(o.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.props.state.form,r=function(e){return t.props.setConsole(e)};return console.dir("dhfkajshfljashfla"),localStorage.setItem("User_EOS_key",n.key),localStorage.setItem("User_EOS_account",n.username),localStorage.setItem("User_EOS_numbers",n.numbers),this.props.setConsole("waiting~~"),y.bet(r).then((function(){console.dir("")})).catch((function(e){r("some thing was wrong please try it again")}))}},{key:"render",value:function(){var e=this.props.state,t=e.form,n=e.error;return Object(k.jsxs)("form",{name:"form",onSubmit:this.handleSubmit,children:[Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Account name"}),Object(k.jsx)("input",{type:"text",name:"username",value:t.username,placeholder:"All small letters, a-z, 1-5 or dot, max 12 characters",onChange:this.props.handleChange,pattern:"[\\.a-z1-5]{2,12}",required:!0,autoComplete:"off"})]}),Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Private key"}),Object(k.jsx)("input",{type:"password",name:"key",value:t.key,onChange:this.props.handleChange,pattern:"^.{51,}$",required:!0,autoComplete:"new-password"})]}),Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"numbers"}),Object(k.jsx)("input",{type:"text",name:"numbers",value:t.numbers,placeholder:"5 numbers from 1-39 splited by ',' and period  ex:1,2,3,4,5:1",onChange:this.props.handleChange,required:!0,autoComplete:"off"})]}),Object(k.jsx)("div",{className:"field form-error",children:n&&Object(k.jsx)("span",{className:"error",children:n})}),Object(k.jsx)("div",{className:"bottom",children:Object(k.jsx)(x,{type:"submit",className:"green",children:"BET"})})]})}}]),n}(h.a.Component),C=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleSubmit=r.handleSubmit.bind(Object(s.a)(r)),r}return Object(o.a)(n,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.props.state.form;return console.dir("dhfljashfla"),localStorage.setItem("User_EOS_key",n.key),localStorage.setItem("User_EOS_account",n.username),this.props.setConsole("waiting~~"),y.open((function(e){return t.props.setConsole(e)}),n.gameid).then((function(){console.dir("dhfljtututuhfla")})).catch((function(e){}))}},{key:"render",value:function(){var e=this.props.state,t=e.form;e.error;return Object(k.jsxs)("form",{name:"form",onSubmit:this.handleSubmit,children:[Object(k.jsxs)("div",{className:"field",children:[Object(k.jsx)("label",{children:"Game id"}),Object(k.jsx)("input",{type:"number",name:"gameid",value:t.gameid,placeholder:"in put game ID",onChange:this.props.handleChange,pattern:"[\\.0-9]{1,12}",required:!0,autoComplete:"off"})]}),Object(k.jsx)("div",{className:"bottom",children:Object(k.jsx)(w,{type:"submit",className:"green",children:"open"})})]})}}]),n}(h.a.Component),w=function(e){var t=Object.assign({},e),n=t.className,r=t.type,a=t.style,c=t.onClick,o=t.children;return Object(k.jsx)("button",{className:"Button".concat(n?" "+n:""),type:r,style:a,onClick:c,children:o})},E=C,I=n(27),N=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={console_block_string:"unkunow"},r.handel_look=r.handel_look.bind(Object(s.a)(r)),r}return Object(o.a)(n,[{key:"handel_look",value:function(){var e=this;return y.get_ticket_table().then((function(t){console.dir(t),e.setState({console_block_string:e.string_process(t.rows)})})).catch((function(t){console.dir(t),e.setState({console_block_string:"some thing was wrong please try it again"})}))}},{key:"string_process",value:function(e){var t="data:\n";console.log(e);var n,r=Object(I.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;t=(t=(t=(t=(t=(t=t.concat("asdasd  ")).concat("ID: ",JSON.stringify(a.serialID),"   ")).concat("Numbers :",JSON.stringify(a.numbers),"   ")).concat("Period :",a.period,"   ")).concat("Funds :",a.betfunds,"   ")).concat("\n")}}catch(i){r.e(i)}finally{r.f()}var c,o=Object(I.a)(e);try{for(o.s();!(c=o.n()).done;){var s=c.value;console.log(s)}}catch(i){o.e(i)}finally{o.f()}return console.log(t),t}},{key:"render",value:function(){return Object(k.jsxs)("p",{children:[this.state.console_block_string,Object(k.jsx)("button",{onClick:this.handel_look,children:"find my ticket"})]})}}]),n}(h.a.Component),U=(n(94),n.p+"static/media/18.a4518252.jpg"),D=n.p+"static/media/co.9e39142a.png",J=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={form:{username:"",key:"",numbers:"",period:"",gameid:0,error:""},console_block_string:"welcome "},r.handleChange=r.handleChange.bind(Object(s.a)(r)),r}return Object(o.a)(n,[{key:"handleChange",value:function(e){var t,n=e.target,c=n.name,o=n.value,s=this.state.form;this.setState({form:Object(a.a)(Object(a.a)({},s),{},(t={},Object(r.a)(t,c,o),Object(r.a)(t,"error",""),t))})}},{key:"render",value:function(){var e=this;this.state.console_block_string;return Object(k.jsxs)("main",{children:[Object(k.jsx)("img",{src:U,alt:"Rice"}),Object(k.jsx)(S,{setConsole:function(t){return e.setState({console_block_string:t})},handleChange:function(t){return e.handleChange(t)},state:this.state}),Object(k.jsx)(E,{setConsole:function(t){return e.setState({console_block_string:t})},handleChange:function(t){return e.handleChange(t)},state:this.state}),Object(k.jsx)(P,{value:this.state.console_block_string}),Object(k.jsx)("h2",{children:" testingaccount:tester"}),Object(k.jsx)("h2",{children:" testingkey:5HxM6iGfYDYTLHDgRruBhbzzSsxndxfLXXswq4C1AS8gkLVGz3E"}),Object(k.jsx)("img",{src:D,alt:"Rice"}),Object(k.jsx)(N,{}),Object(k.jsx)("p",{})]})}}]),n}(h.a.Component),P=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(k.jsx)("h3",{id:"CONTEX",children:this.props.value})}}]),n}(h.a.Component);b.a.render(Object(k.jsx)(J,{}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.9c44443a.chunk.js.map